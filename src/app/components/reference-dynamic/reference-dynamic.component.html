<app-sub-toolbar [title]="'Referencia Dynamic'"/>

<main class="minHeight minHeightToolbar referenceContDetail">

  <mat-card class="globalCard cardReference">
    <h4 class="subTitles">DynamiCore</h4>

    <h4 class="resumeReferences">Haz tu pago de ${{ contract().financial.weeklyPayment }} MXN a la siguiente cuenta</h4>

    <div>
      <h2 (click)="copyClipboard()" class="refCode">{{ client().reference }}</h2>
      <p class="resumeReferences">Toca el número de referencia para copiarla</p>
    </div>

    @if (reference().charge.barcode_url != undefined) {
      <div class="codeBarCont">
        <img [src]="reference().charge.barcode_url" alt="">
      </div>
    }

    @if (nextPayment != '') {
      <h4 class="resumeReferences">Fecha del siguiente pago</h4>
      <h4 class="resumeReferences txtReferences">{{ nextPayment | titlecase }}</h4>
    }

    <mat-divider/>
    <h2>OxxoPay</h2>
    <mat-divider/>

    <h3 class="subTitles">¿Tienes problemas con la referencia de pago?</h3>

    <div class="actionReference">
      @if (generating()) {
        <mat-progress-spinner
          [diameter]="35"
          [strokeWidth]="3"
          mode="indeterminate"></mat-progress-spinner>
      } @else {
        <button (click)="initCreateReference()" class="buttonRef" mat-button><h3>Crear nueva referencia</h3></button>
      }

    </div>

  </mat-card>

  <div class="mt015">
    <h4>Debe entregar el código de referencia al agente de Oxxo para realizar el pago.</h4>

    <ul>
      <li><h4>Indique que el código corresponde a un número de referencia OxxoPay</h4></li>
    </ul>

    <h4>Por favor realice su pago antes de las 5:00 p.m. CST del día de la fecha de pago correspondiente para asegurarse
      de que su equipo permanezca desbloqueado.</h4>
    <h4>Contactenos si tiene dudas o preguntas</h4>
  </div>

</main>
